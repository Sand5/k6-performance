version: "3.9"

services:
  mock-local:
    build: .
    container_name: mock-local
    ports:
      - "3000:3000"   # Change if your mock API listens on a different port
    environment:
      - NODE_ENV=local

  k6:
    build: ./k6-tests   # Path to your K6 Dockerfile folder
    container_name: k6-tests
    depends_on:
      - mock-local
    environment:
      - ENV=local
      - DOCKER=true